# PicPaste - 智能剪贴板图片处理工具

<p align="center">
  <img src="123.png" width="120" height="120" alt="PicPaste Logo">
</p>

<p align="center">
  <strong>截图自动转文件路径，让终端粘贴更高效</strong>
</p>

<p align="center">
  <a href="#功能特性">功能特性</a> •
  <a href="#与原项目对比">与原项目对比</a> •
  <a href="#使用方法">使用方法</a> •
  <a href="#下载安装">下载安装</a> •
  <a href="#打赏支持">打赏支持</a>
</p>

---

## 📋 项目说明

本项目基于 [clipboard-image-watcher](https://github.com/doraemonkeys/clipboard-image-watcher) 进行二次开发。

**原项目地址**: https://github.com/doraemonkeys/clipboard-image-watcher

感谢原作者 [doraemonkeys](https://github.com/doraemonkeys) 提供的优秀基础代码！

### 开发者信息
- **二次开发者**: 潇洒公子
- **当前版本**: v1.0.0
- **发布日期**: 2026-02-23

---

## ✨ 功能特性

### 核心功能
- 🎯 **智能剪贴板监控**: 自动检测剪贴板中的截图
- 💡 **按需保存**: 仅在终端粘贴时才生成图片文件（非截图立即保存）
- 🔄 **自动替换剪贴板**: 将图片替换为文件路径，方便在命令行中使用
- 📁 **自定义保存路径**: 可设置截图保存的文件夹位置

### 缓存管理
- 📊 **最大文件数量限制**: 支持设置最大保留文件数（0 = 无限制）
- ⏰ **文件保留时长**: 支持设置文件保留时间（0 = 永久保留）
- 🧹 **自动清理间隔**: 支持定时自动清理（0 = 不自动清理）
- 🚪 **退出/关机清理**: 可选择退出软件或关机时自动清理截图文件

### 更新功能
- 🌐 **双源更新**: 支持 GitHub 和 Gitee 两个更新源
- ⚡ **自动检查**: 启动时自动检查更新（可关闭）
- 📥 **一键更新**: 自动下载并安装新版本

### 其他功能
- 🚀 **开机自启动**: 支持 Windows 开机自动运行
- 📝 **日志记录**: 内置日志查看功能，方便排查问题
- 🎨 **美观界面**: 现代化的设置面板设计
- 📦 **单文件**: 自包含单文件，无需安装 .NET Runtime

---

## 🔄 与原项目对比

| 功能 | 原项目 (clipboard-image-watcher) | PicPaste (本项目) |
|------|----------------------------------|-------------------|
| **截图保存时机** | 截图后立即保存到文件夹 | 仅在终端粘贴时才保存 |
| **设置面板** | ❌ 无 | ✅ 完整的图形化设置面板 |
| **缓存管理** | 基础清理功能 | 完整的缓存管理策略 |
| **开机自启动** | ❌ 不支持 | ✅ 支持 |
| **更新功能** | ❌ 无 | ✅ 自动检查更新，双源支持 |
| **日志查看** | ❌ 无 | ✅ 内置日志查看器 |
| **界面美观度** | 基础界面 | 现代化 UI 设计 |
| **文件隐藏** | 普通文件 | 自动隐藏配置文件 |
| **版本号** | 无 | 完整的版本管理 |

### 详细功能对比

#### 1. 截图处理逻辑
**原项目**: 只要检测到剪贴板有图片，立即保存到文件夹

**PicPaste**: 
- 默认模式：仅在终端/命令行中按 Ctrl+V 粘贴时才保存图片
- 可选模式：也可以设置为截图后立即处理（与原项目一致）

#### 2. 缓存管理
**原项目**: 简单的文件清理

**PicPaste**:
- 最大文件数量限制（可设置无限制）
- 文件保留时长设置（可设置永久保留）
- 自动清理间隔（可设置不自动清理）
- 退出时清理选项
- 关机时清理选项

#### 3. 用户界面
**原项目**: 基础的功能界面

**PicPaste**:
- 美观的设置面板
- 左侧信息栏显示软件 Logo、名称、版本
- 右侧功能设置区
- 日志实时查看窗口
- 更新检查窗口

---

## 🆕 新增功能

### v1.0.0 新增功能
1. **完整的设置面板**
   - 图形化界面管理所有设置
   - 实时预览和修改

2. **智能缓存管理**
   - 多维度缓存策略
   - 灵活的清理选项

3. **自动更新系统**
   - GitHub/Gitee 双源更新
   - 启动时自动检查
   - 一键下载安装

4. **开机自启动**
   - 注册表管理自启动
   - 设置面板可开关

5. **日志系统**
   - 内置日志记录
   - 设置面板实时查看
   - 支持清空日志

6. **文件隐藏**
   - 自动隐藏配置文件
   - 保持目录整洁

7. **版本管理**
   - 版本号显示
   - 版本检查

---

## 🔧 修复改进

1. **性能优化**
   - 优化图片保存速度
   - 减少不必要的文件操作

2. **稳定性提升**
   - 添加错误处理和日志记录
   - 修复剪贴板替换逻辑

3. **用户体验**
   - 添加操作提示
   - 优化界面响应

---

## 📥 下载安装

### 系统要求
- Windows 10/11 64位系统
- 无需安装 .NET Runtime（已自包含）

### 下载地址

#### GitHub（国际）
- 地址: https://github.com/86168057/PicPaste/releases
- 适合有代理或海外网络环境

#### Gitee（国内推荐）
- 地址: https://gitee.com/lfsnd/PicPaste/releases
- 服务器在国内，无需代理，下载速度更快

### 安装方法
1. 下载 `PicPaste.exe`
2. 将 EXE 文件放到任意位置
3. 双击运行即可

> **注意**: 首次运行会自动在同级目录创建隐藏的配置文件（settings.json 和 log.txt）

---

## 🚀 使用方法

### 基本使用
1. 运行 `PicPaste.exe`，软件会在系统托盘显示图标
2. 使用任意截图工具截图（如微信、QQ、系统截图等）
3. 在终端/命令行/代码编辑器中按 `Ctrl+V` 粘贴
4. 自动获得图片文件路径

### 设置面板
右键点击托盘图标 → **设置**，可以配置：

- **保存路径**: 截图文件保存的位置
- **处理模式**: 仅在终端粘贴时处理 / 截图后立即处理
- **缓存管理**: 文件数量限制、保留时长、清理间隔
- **启动设置**: 开机自动启动
- **更新设置**: 自动检查更新、更新源选择

---

## ⚙️ 配置说明

### 默认设置
- 保存路径: 桌面/临时截图
- 处理模式: 仅在终端粘贴时处理
- 最大文件数: 无限制
- 保留时长: 永久保留
- 清理间隔: 不自动清理
- 开机自启: 开启
- 自动更新: 开启
- 更新源: Gitee（国内）

### 更新源选择建议
- **有代理/VPN**: 可选择 GitHub 源
- **无代理**: 建议选择 Gitee 源，速度更快

---

## 🐛 常见问题

**Q: 为什么截图后文件夹里没有图片？**  
A: 这是正常的设计。PicPaste 默认只在你在终端粘贴时才生成图片文件。你可以在设置中改为"截图后立即处理"模式。

**Q: 如何查看日志？**  
A: 右键托盘图标 → 设置 → 滚动到最下方查看"运行日志"区域。

**Q: 如何关闭开机自启动？**  
A: 在设置面板中取消勾选"开机自动启动"即可。

**Q: 更新失败怎么办？**  
A: 尝试切换更新源（GitHub/Gitee），或手动下载最新版本覆盖安装。

---

## 📝 开源协议

本项目基于原项目 [clipboard-image-watcher](https://github.com/doraemonkeys/clipboard-image-watcher) 进行二次开发。

遵循原项目的开源协议。

---

## 💝 打赏支持

如果这个项目对你有帮助，欢迎打赏支持开发者！

<p align="center">
  <table>
    <tr>
      <td align="center">
        <strong>微信打赏</strong><br><br>
        <img src="支付/weinxin.png" width="200" alt="微信收款码">
      </td>
      <td align="center">
        <strong>支付宝打赏</strong><br><br>
        <img src="支付/zhifubao.png" width="200" alt="支付宝收款码">
      </td>
    </tr>
  </table>
</p>

---

## 📧 联系开发者

- **开发者**: 潇洒公子
- **GitHub**: https://github.com/86168057/PicPaste
- **Gitee**: https://gitee.com/lfsnd/PicPaste

---

<p align="center">
  Made with ❤️ by 潇洒公子
</p>
